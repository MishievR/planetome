<%= render 'shared/errors', obj: @user %>
  <div class="row">
    <div class="col">
      <div class="card card-login">
        <div class="card-body">
          <%= form_for(@user, :html => {class: "form-horizontal", role: "form"}) do |f| %>
            <div class="row">
              <div class="col-12 col-md-6 col-lg-9 col-xl-9">
                <div class="form-group">
                  <div class="form-row">
                    <div class="col">
                      <%= f.label :first_name, class: "control-label" %>
                      <%= f.text_field :first_name, class: "form-control", placeholder: "Elon", autofocus: true %>
                    </div>
                    <div class="col">
                      <%= f.label :last_name, class: "control-label" %>
                      <%= f.text_field :last_name, class: "form-control", placeholder: "Musk", autofocus: true %>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <%= f.label :username, class: "control-label" %>
                  <%= f.text_field :username, class: "form-control", placeholder: "elonmusk", autofocus: true %>
                  <small class="form-text text-muted">Username must contain only letters, no sapces .-/@ </small>
                </div>
                <div class="form-group">
                  <%= f.label :Short_bio, class: "control-label" %>
                  <%= f.text_area :about, rows: 3, class: "form-control", placeholder: "Building electric cars. Sending them to Mars on my rockets.", autofocus: true %>
                  <small class="form-text text-muted">100 letters limit</small>
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-3 col-xl-3">
                <div class="form-group">
                  <%= f.label :Profile_images_Preview %>
                  <div class="row">
                      <div class="card">
                        <%= image_tag @user.background, class: "card-user-bg-img card-img-top" if @user.background? %>
                        <%= image_tag @user.avatar.url(:medium), class: "profilePhoto" if @user.avatar? %>
                        <div class="card-body">
                          <% if current_user == @user && @user.first_name == nil %>
                          <h5 class="card-title card-title-user"><%= link_to "Add info", edit_user_path(@user), class: "user-link" %></h5>
                          <% else %>
                          <h5 class="card-title card-title-user"><%= link_to @user.name, user_path(@user), class: "user-link" %></h5>
                          <% end %>
                          <p class="user-username">@<%= @user.username %></p>
                          <p class="card-text"><%= @user.about %></p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <br>
                  <div class="form-group">
                    <label><i class="fas fa-upload"></i> <strong>Profile</strong> photo</label>
                    <%= f.file_field :avatar, accept: 'image/png,image/gif,image/jpeg,image/jpg' %>
                  </div>
                  <div class="form-group">
                    <label><i class="fas fa-upload"></i> <strong>Background</strong> photo</label>
                    <%= f.file_field :background, accept: 'image/png,image/gif,image/jpeg,image/jpg' %>
                  </div>
              </div>
            </div>
            <%= f.submit( "Update account", class: 'btn btn-outline-danger') %>
            <small class="form-text text-muted">NOTE: It may take some time to upload your background and/or profile image, <strong>don't reload the web page please!</strong></small>
          <% end %>
        </div>
      </div>
    </div>
  </div>
