<div class="row">
  <div class="col-12">
    <div class="card card-user-page">
      <%= image_tag @user.background, class: "card-user-bg-img card-img-top" if @user.background? %>
      <div class="card-img-overlay">
        <div class="d-flex justify-content-center">
          <%= image_tag @user.avatar.url(:medium), class: "profilePhoto " if @user.avatar? %>
        </div>
        <div class="d-flex justify-content-center">
          <h6 class="card-title card-title-user text-center font-background-color-usercard"><%= @user.first_name %></h6>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h6 class="card-text card-text-main main-text-color mt-2 "><%= truncate(@user.about, length: 100 )%></h6>
        <div class="idea-card">
          <div class="circle"></div>
            <p class="circles">From <%= @user.originnaly_from_city %> </p>
          <div class="circle"></div>
            <p class="circles">Now in <%= @user.currently_in_city %>
              <button type="button" class="btn btn-sm btn-link btn-cities-user" data-toggle="modal" data-target="#exampleModal">
                <i class="fas fa-edit"></i>
              </button>
            </p>
          <div class="circle"></div>
            <p class="circles"><strong>Going to
              <%= link_to @user.city.name, city_path(@user.city), class: "main-text-color"  %>
              , <%= @user.city.country %></strong></p>
          <div class="line"></div>
        </div>
      </div>
    </div>
    <br>
    <% if current_user == @user %>
      <span class="text-muted">Your controls</span>
      <%# link_to "Submit a topic", new_topic_path, class: "btn btn-block btn-danger mt-2"  %>
      <%# link_to "Start a project", new_project_path, class: "btn btn-block btn-danger"  %>
      <%= link_to "Edit your profile", edit_user_path(@user), class: "btn btn-block btn-danger"  %>
      <%= link_to(destroy_user_session_path, method: :delete, class: "btn main-text-color btn-block") do %>
      <i class="fas fa-sign-out-alt"></i>
      Log out
      <% end %>
    <% end %>
  </div>
</div>
<br>
<br>



<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content model-dialog-menu">
      <div class="modal-header modal-header-menu">
        <h5 class="modal-title modal-title-menu" id="exampleModalLabel">Controls</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= form_for(@user, :html => {class: "form-horizontal", role: "form"}) do |f| %>
        <div class="form-group">
          <h5><strong>Whats your home city
          </strong></h5>
          <%= f.text_field :currently_in_city, class: "form-control", placeholder: "New York, NY, US", autofocus: false %>
        </div>
          <%= f.submit( "Change current city", class: 'btn btn-danger') %>
        <% end %>
      </div>
    </div>
  </div>
</div>
